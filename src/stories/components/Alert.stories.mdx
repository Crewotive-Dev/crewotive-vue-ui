import { Title, Story, Props, Canvas , Preview, Subtitle, Description, Primary, ArgsTable, Stories, PRIMARY_STORY, } from '@storybook/addon-docs/blocks';
import * as sassVariables from '../../assets/js/sassVariables.js';
const { themeColors, colorTints } = sassVariables

import CreAlert from '../../components/UI/CreAlert.vue';
import CreText from '../../components/UI/CreText.vue';

<Meta title="Components/Alert" component={ CreAlert }
  parameters={{
    docs:{
      description: {
        component: "Use Crewotiveâ€™s Alert component for actions in forms, dialogs, and more with support for multiple sizes, states, and more."
      },
    }
  }}
  decorators={[() => ({ template: '<div class="mt-2"><story/></div>' })]}
  argTypes={{
    variant: { description: "Color variant of alert component",
      control: {
         type : 'select', options : themeColors.filter(val=>val.match(/-\d$/g)==null)
      }
    },
    tint: { description: "Tint of alert color",
      control: {
         type : 'range', min : parseInt(colorTints[0]), max : parseInt(colorTints[colorTints.length-1])
      }
    },
    dismissible: { description: "If checked, dismiss button appears"
    },
  }}
  />

export const Template = (args, { argTypes, ...vm }) => ({
  props: Object.keys(vm.parameters.component.props),
  components: { CreAlert, CreText },
  template: `
    <CreAlert v-bind="$props">
      <CreText v-t.center el=h2 class="alert-heading">
        {{ (dismissible && "Dismissible ") || '' }} Alert ( {{ $props.variant }}{{ $props.tint && '-'+$props.tint }} )
      </CreText>
      <CreText el=h4 class="alert-heading">
        Well done!
      </CreText>
      <CreText el=p>Aww yeah, you successfully read this important alert message. This example text is going to run a bit longer so that you can see how spacing within an alert works with this kind of content.</CreText>
      <hr>
      <CreText el=p>
      A simple {{$props.variant}} alert with <a href="#" class="alert-link">an example link</a>. Give it a click if you like.
      </CreText>
    </CreAlert>`
});

<div className="d-none">

<Story
  name="Alert">
  {Template.bind({})}
</Story>

</div>


<Title/>
<SubTitle/>
<Description/>
<Primary/>
<ArgsTable story="Alert" />

### SASS
#### Variables
```SCSS
$alert-padding-y:               $spacer;
$alert-padding-x:               $spacer;
$alert-margin-bottom:           1rem;
$alert-border-radius:           $border-radius;
$alert-link-font-weight:        $font-weight-bold;
$alert-border-width:            $border-width;
$alert-bg-scale:                -80%;
$alert-border-scale:            -70%;
$alert-color-scale:             40%;
$alert-dismissible-padding-r:   $alert-padding-x * 3; // 3x covers width of x plus default padding on either side
```


<Stories/>